# BDC-AI åç«¯éƒ¨ç½²æ€»ç»“

## éƒ¨ç½²å®Œæˆæ—¶é—´
2026-01-25

## ç³»ç»Ÿä¿¡æ¯

### ç¯å¢ƒé…ç½®
- **æ“ä½œç³»ç»Ÿ**: Windows 11
- **Python**: 3.11.9
- **PostgreSQL**: 18.1
- **Git**: 2.52.0

### æ•°æ®åº“é…ç½®
- **æ•°æ®åº“**: bdc_ai
- **ç”¨æˆ·**: admin
- **å¯†ç **: password
- **postgres ç”¨æˆ·å¯†ç **: JIM88514

### åç«¯æœåŠ¡
- **æœåŠ¡åœ°å€**: http://localhost:8000
- **API æ–‡æ¡£**: http://localhost:8000/docs
- **ReDoc æ–‡æ¡£**: http://localhost:8000/redoc
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/api/v1/health

### Tailscale é…ç½®
- **Tailscale IP**: 100.93.101.76
- **Tailscale çŠ¶æ€**: å·²ç™»å½•
- **è¿œç¨‹è®¿é—®åœ°å€**: http://100.93.101.76:8000
- **é˜²ç«å¢™è§„åˆ™**: å·²é…ç½®ï¼ˆå…è®¸ 8000 ç«¯å£ï¼‰

## æœåŠ¡ç®¡ç†

### å¯åŠ¨åç«¯æœåŠ¡

**æ–¹æ³• 1ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# åŒå‡»è¿è¡Œ
scripts\start_backend.bat

# æˆ–å‘½ä»¤è¡Œ
cd D:\BDC-AI
scripts\start_backend.bat
```

**æ–¹æ³• 2ï¼šæ‰‹åŠ¨å¯åŠ¨**
```bash
cd D:\BDC-AI
venv\Scripts\python.exe -m uvicorn services.backend.app.main:app --host 0.0.0.0 --port 8000 --reload
```

**æ–¹æ³• 3ï¼šåå°è¿è¡Œ**
```bash
cd D:\BDC-AI
start /B venv\Scripts\python.exe -m uvicorn services.backend.app.main:app --host 0.0.0.0 --port 8000 --reload
```

### åœæ­¢æœåŠ¡
æŒ‰ `Ctrl+C` æˆ–å…³é—­å‘½ä»¤è¡Œçª—å£

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8000

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8000/api/v1/health

# æµ‹è¯• Tailscale è®¿é—®
curl http://100.93.101.76:8000/api/v1/health
```

## Tailscale è¿œç¨‹è®¿é—®

### ä»å…¶ä»–è®¾å¤‡è®¿é—®

**å‰ææ¡ä»¶**ï¼š
1. å…¶ä»–è®¾å¤‡å·²å®‰è£… Tailscale
2. ä½¿ç”¨ç›¸åŒè´¦å·ç™»å½•
3. Tailscale è¿æ¥çŠ¶æ€ä¸º "Connected"

**è®¿é—®åœ°å€**ï¼š
```
http://100.93.101.76:8000
```

**ç¤ºä¾‹**ï¼š
- API æ–‡æ¡£: http://100.93.101.76:8000/docs
- å¥åº·æ£€æŸ¥: http://100.93.101.76:8000/api/v1/health
- é¡¹ç›®åˆ—è¡¨: http://100.93.101.76:8000/api/v1/projects

### ç§»åŠ¨ç«¯é…ç½®

**Android**:
1. ä» Google Play å®‰è£… Tailscale
2. ä½¿ç”¨ç›¸åŒè´¦å·ç™»å½•
3. ç¡®è®¤è¿æ¥çŠ¶æ€ä¸º "Connected"
4. åœ¨åº”ç”¨ä¸­é…ç½®åç«¯åœ°å€: `http://100.93.101.76:8000`

**iOS**:
1. ä» App Store å®‰è£… Tailscale
2. ä½¿ç”¨ç›¸åŒè´¦å·ç™»å½•
3. ç¡®è®¤è¿æ¥çŠ¶æ€ä¸º "Connected"
4. åœ¨åº”ç”¨ä¸­é…ç½®åç«¯åœ°å€: `http://100.93.101.76:8000`

## æ•°æ®åº“ç®¡ç†

### è¿æ¥æ•°æ®åº“

**ä½¿ç”¨ psql**:
```bash
# ä½œä¸º admin ç”¨æˆ·
psql -U admin -d bdc_ai

# ä½œä¸º postgres ç”¨æˆ·
psql -U postgres -d bdc_ai
```

**ä½¿ç”¨ pgAdmin**:
1. æ‰“å¼€ pgAdmin 4
2. æ·»åŠ æ–°è¿æ¥
3. ä¸»æœº: localhost
4. ç«¯å£: 5432
5. æ•°æ®åº“: bdc_ai
6. ç”¨æˆ·å: admin
7. å¯†ç : password

### å¸¸ç”¨æ•°æ®åº“æ“ä½œ

**æŸ¥çœ‹æ‰€æœ‰è¡¨**:
```sql
\dt
```

**æŸ¥çœ‹è¡¨ç»“æ„**:
```sql
\d users
\d projects
```

**å¤‡ä»½æ•°æ®åº“**:
```bash
pg_dump -U admin bdc_ai > backup.sql
```

**æ¢å¤æ•°æ®åº“**:
```bash
psql -U admin bdc_ai < backup.sql
```

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æœåŠ¡æ— æ³•å¯åŠ¨

**æ£€æŸ¥ç«¯å£å ç”¨**:
```bash
netstat -ano | findstr :8000
```

**è§£å†³æ–¹æ³•**:
- å¦‚æœç«¯å£è¢«å ç”¨ï¼Œç»ˆæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ¢ç«¯å£
- æ›´æ¢ç«¯å£: `--port 8001`

### é—®é¢˜ 2: æ•°æ®åº“è¿æ¥å¤±è´¥

**æ£€æŸ¥ PostgreSQL æœåŠ¡**:
```bash
# Windows æœåŠ¡ç®¡ç†å™¨
# æŸ¥æ‰¾ PostgreSQL 18 æœåŠ¡
```

**æµ‹è¯•è¿æ¥**:
```bash
psql -U admin -d bdc_ai -c "SELECT 1;"
```

### é—®é¢˜ 3: Tailscale æ— æ³•è®¿é—®

**æ£€æŸ¥ Tailscale çŠ¶æ€**:
```bash
tailscale status
```

**æ£€æŸ¥é˜²ç«å¢™**:
```powershell
Get-NetFirewallRule -DisplayName "*BDC-AI*"
```

**é‡æ–°æ·»åŠ é˜²ç«å¢™è§„åˆ™**:
```powershell
New-NetFirewallRule -DisplayName "BDC-AI Backend (Tailscale)" -Direction Inbound -LocalPort 8000 -Protocol TCP -Action Allow
```

### é—®é¢˜ 4: è¿œç¨‹è®¾å¤‡æ— æ³•è®¿é—®

**æ£€æŸ¥æ¸…å•**:
- [ ] åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] Tailscale å·²ç™»å½•
- [ ] è¿œç¨‹è®¾å¤‡å·²å®‰è£… Tailscale
- [ ] è¿œç¨‹è®¾å¤‡ä½¿ç”¨ç›¸åŒè´¦å·ç™»å½•
- [ ] è¿œç¨‹è®¾å¤‡ Tailscale è¿æ¥çŠ¶æ€ä¸º "Connected"
- [ ] é˜²ç«å¢™è§„åˆ™å·²é…ç½®
- [ ] åç«¯ç›‘å¬ `0.0.0.0`ï¼ˆè€Œé `localhost`ï¼‰

## ç»´æŠ¤å»ºè®®

### æ—¥å¸¸ç»´æŠ¤

**æ¯æ—¥æ£€æŸ¥**:
- [ ] åç«¯æœåŠ¡è¿è¡ŒçŠ¶æ€
- [ ] Tailscale è¿æ¥çŠ¶æ€
- [ ] é”™è¯¯æ—¥å¿—

**æ¯å‘¨å¤‡ä»½**:
- [ ] å¤‡ä»½æ•°æ®åº“
- [ ] å¤‡ä»½ .env æ–‡ä»¶
- [ ] å¤‡ä»½ä»£ç ï¼ˆgit commitï¼‰

### æ—¥å¿—ä½ç½®

**åç«¯æ—¥å¿—**:
- æ§åˆ¶å°è¾“å‡ºï¼ˆå¼€å‘æ¨¡å¼ï¼‰
- éœ€è¦é…ç½®æ—¥å¿—æ–‡ä»¶ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰

**PostgreSQL æ—¥å¿—**:
- ä½ç½®: `C:\Program Files\PostgreSQL\18\data\log\`

### æ›´æ–°æµç¨‹

1. **å¤‡ä»½æ•°æ®åº“**
2. **æ‹‰å–æœ€æ–°ä»£ç **: `git pull origin master`
3. **å®‰è£…æ–°ä¾èµ–**: `pip install -r services/backend/requirements.txt`
4. **é‡å¯æœåŠ¡**: åœæ­¢æ—§æœåŠ¡ï¼Œå¯åŠ¨æ–°æœåŠ¡
5. **éªŒè¯åŠŸèƒ½**: æµ‹è¯•å…³é”® API

## å®‰å…¨å»ºè®®

### å¯†ç ç®¡ç†
- âš ï¸ å®šæœŸæ›´æ¢æ•°æ®åº“å¯†ç 
- âš ï¸ ä¸è¦å°† .env æ–‡ä»¶æäº¤åˆ° Git
- âš ï¸ ç”Ÿäº§ç¯å¢ƒä¿®æ”¹é»˜è®¤å¯†ç 

### ç½‘ç»œå®‰å…¨
- âœ… Tailscale æä¾›ç«¯åˆ°ç«¯åŠ å¯†
- âœ… ä»…å¼€æ”¾å¿…è¦çš„ç«¯å£
- âš ï¸ è€ƒè™‘é…ç½® HTTPSï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### è®¿é—®æ§åˆ¶
- âš ï¸ é…ç½® Tailscale ACLï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰
- âš ï¸ å¯ç”¨è®¾å¤‡å®¡æ‰¹åŠŸèƒ½
- âš ï¸ å®šæœŸå®¡è®¡å·²è¿æ¥è®¾å¤‡

## ä¸‹ä¸€æ­¥

### å³å°†éƒ¨ç½²çš„åŠŸèƒ½
1. MinIO å¯¹è±¡å­˜å‚¨ï¼ˆæ–‡ä»¶ä¸Šä¼ ï¼‰
2. GLM-4V å›¾ç‰‡åˆ†ææœåŠ¡
3. Worker å¼‚æ­¥ä»»åŠ¡å¤„ç†
4. å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

### æ¨èé˜…è¯»
- `docs/02-æŠ€æœ¯æ–‡æ¡£/åç«¯æœåŠ¡å™¨éƒ¨ç½²å®Œæ•´æŒ‡å—.md`
- `docs/02-æŠ€æœ¯æ–‡æ¡£/Tailscaleè™šæ‹Ÿå±€åŸŸç½‘å®æ–½æ–¹æ¡ˆ.md`
- `docs/02-æŠ€æœ¯æ–‡æ¡£/API-KEYå®‰å…¨ç®¡ç†æ–¹æ¡ˆ.md`

## è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. é¡¹ç›®æ–‡æ¡£: `docs/` ç›®å½•
2. GitHub Issues: https://github.com/Jimmy-ye/buidingdatacenter-ai/issues
3. æŠ€æœ¯æ–‡æ¡£: `docs/02-æŠ€æœ¯æ–‡æ¡£/`

---

**éƒ¨ç½²æˆåŠŸï¼** ğŸ‰

åç«¯æœåŠ¡å·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹å¼€å‘äº†ã€‚
