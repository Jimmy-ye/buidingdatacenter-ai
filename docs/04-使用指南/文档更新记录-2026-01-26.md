# 使用指南文档更新记录

**更新时间**: 2026-01-26
**更新原因**: 权限初始化修复完成，更新相关文档

---

## 📝 更新内容概览

### 1. README.md 更新

**更新内容**:
- ✅ 更新最后更新日期：2026-01-25 → 2026-01-26
- ✅ 新增权限测试指南链接（指向 `scripts/测试/test_permission_control.md`）
- ✅ 优化文档导航结构

**文件**: `docs/04-使用指南/README.md`

---

### 2. 账号权限系统使用指南.md 更新

**更新内容**:

#### 2.1 默认管理员账号部分

**修改前**:
```
用户名：admin
邮箱：admin@bdc-ai.com
密码：admin123
角色：超级管理员
```

**修改后**:
```
系统提供两个超级管理员账号（二选一即可）：

主管理员:
用户名：yerui
邮箱：yerui@bdc-ai.com
密码：ye123456
角色：超级管理员

备用管理员:
用户名：admin
邮箱：admin@bdc-ai.com
密码：admin123
角色：超级管理员
```

#### 2.2 新增权限系统说明

添加了完整的权限系统说明，包括：
- 26 个权限的分类
- 超级管理员权限范围
- 安全提示

#### 2.3 新增故障排查章节

**位置**: 文档末尾（第 780-975 行）

**包含内容**:
1. **问题 1：登录后权限数量为 0**
   - 症状描述
   - 原因分析
   - 4 种解决方案（从根目录启动、重新初始化、SQL 修复、验证脚本）

2. **问题 2：无法连接到后端服务**
   - 连接错误排查
   - 进程检查方法
   - 重启步骤

3. **问题 3：Token 过期或无效**
   - 重新登录方法
   - Refresh Token 使用

4. **问题 4：Pydantic 验证错误**
   - 清除缓存步骤
   - 代码更新说明

5. **问题 5：PC-UI 按钮仍然隐藏**
   - 浏览器缓存清除
   - 认证管理器验证
   - PC-UI 重启方法

6. **问题 6：ModuleNotFoundError: No module named 'shared'**
   - 原因分析
   - 正确启动路径说明

7. **获取帮助**
   - 日志查看方法
   - 诊断脚本
   - 相关文档链接
   - 支持渠道

**文件**: `docs/04-使用指南/账号权限系统使用指南.md`

---

### 3. 快速开始.md 更新

**更新内容**:

#### 3.1 登录获取 Token 部分

**修改前**:
```
使用默认账号 `admin/admin123` 登录
```

**修改后**:
```
系统提供两个超级管理员账号（任选其一）：

主管理员:
- 用户名：yerui
- 密码：ye123456

备用管理员:
- 用户名：admin
- 密码：admin123
```

#### 3.2 cURL 示例更新

添加了双账号的 cURL 示例：
```bash
# 使用主管理员 yerui 登录
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"yerui","password":"ye123456"}'

# 或使用备用管理员 admin 登录
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

**文件**: `docs/04-使用指南/快速开始.md`

---

## 📊 更新统计

| 文件 | 更新类型 | 新增行数 | 修改行数 | 主要变更 |
|------|---------|---------|---------|---------|
| README.md | 修改 | 2 | 2 | 添加测试指南链接、更新日期 |
| 账号权限系统使用指南.md | 重大更新 | 200 | 10 | 新增故障排查章节、更新管理员账号 |
| 快速开始.md | 修改 | 15 | 5 | 更新登录凭证说明 |
| **总计** | - | **217** | **17** | **3 个文件更新** |

---

## 🎯 更新目的

### 解决的问题

1. **权限初始化问题**
   - 用户不知道有双管理员账号
   - 权限数量为 0 时不知道如何排查
   - 后端启动路径错误导致模块找不到

2. **文档完整性**
   - 缺少故障排查章节
   - 没有权限验证脚本说明
   - 缺少常见问题解决方案

3. **用户体验**
   - 登录凭证说明不清晰
   - 遇到问题不知道如何求助
   - 文档间缺少交叉引用

---

## 📚 相关文档

### 新增文档
- `scripts/测试/test_yerui_permissions.py` - 权限测试脚本
- `scripts/数据库/fix_yerui_permissions.sql` - SQL 快速修复脚本
- `docs/03-优化记录/权限初始化修复计划.md` - 修复计划文档

### 更新文档
- `docs/04-使用指南/README.md`
- `docs/04-使用指南/账号权限系统使用指南.md`
- `docs/04-使用指南/快速开始.md`

### 参考文档
- `scripts/测试/test_permission_control.md` - 前端权限控制测试指南
- `docs/02-技术文档/远程服务器部署指南-认证与权限控制.md`

---

## ✅ 验证清单

文档更新完成后，需要验证：

- [x] README.md 日期已更新
- [x] README.md 包含测试指南链接
- [x] 账号权限系统使用指南包含双管理员说明
- [x] 账号权限系统使用指南包含故障排查章节
- [x] 快速开始文档更新登录凭证
- [x] 所有文档日期统一为 2026-01-26
- [x] 文档间交叉引用正确
- [x] 代码示例可执行

---

## 🔄 下一步计划

### 短期（1 周内）
1. 根据用户反馈完善故障排查章节
2. 添加更多实际案例
3. 补充截图和示例输出

### 中期（2-4 周）
1. 翻译成英文版本
2. 添加视频教程链接
3. 创建交互式示例

### 长期（持续）
1. 定期更新文档内容
2. 收集用户反馈
3. 优化文档结构

---

**文档维护**: BDC-AI 开发团队
**最后更新**: 2026-01-26
**状态**: ✅ 已完成

---

## 📝 提交信息

```
docs: 更新使用指南文档以反映权限修复

更新内容:
1. README.md
   - 更新日期为 2026-01-26
   - 添加权限测试指南链接

2. 账号权限系统使用指南.md
   - 更新默认管理员账号（yerui 和 admin）
   - 新增权限系统说明（26 个权限）
   - 新增故障排查章节（6 个常见问题）

3. 快速开始.md
   - 更新登录凭证（双管理员账号）
   - 添加双账号 cURL 示例

相关链接:
- 权限修复记录: docs/03-优化记录/权限初始化修复计划.md
- 测试指南: scripts/测试/test_permission_control.md
- 测试脚本: scripts/测试/test_yerui_permissions.py

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```
