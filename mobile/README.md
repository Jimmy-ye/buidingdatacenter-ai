# BDC-AI ç§»åŠ¨ç«¯å¼€å‘

## ğŸ“± é¡¹ç›®æ¦‚è¿°

BDC-AI ç§»åŠ¨ç«¯æ˜¯é¢å‘å»ºç­‘èŠ‚èƒ½ç®¡ç†çš„ç°åœºæ•°æ®é‡‡é›†åº”ç”¨ï¼Œä¸ PC ç«¯å½¢æˆäº’è¡¥ï¼š
- **PC ç«¯**ï¼šé¡¹ç›®ç®¡ç†ã€æ•°æ®åˆ†æã€æŠ¥å‘Šè¾“å‡º
- **ç§»åŠ¨ç«¯**ï¼šç°åœºé‡‡é›†ã€å¿«é€Ÿå½•å…¥ã€è®¾å¤‡è¯†åˆ«

---

## ğŸ¯ å¼€å‘çŠ¶æ€

**å½“å‰åˆ†æ”¯**ï¼š`feature/mobile-development`
**é¦–ä¸ªåŠŸèƒ½**ï¼šå·¥ç¨‹ç»“æ„æµè§ˆ
**é¢„è®¡å·¥æœŸ**ï¼š4.5 å¤©
**Flutter SDK**ï¼šå¾…å®‰è£…

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### 1. ç¯å¢ƒå‡†å¤‡
ğŸ“– **[Flutter å®‰è£…æŒ‡å—](./FLUTTER_SETUP.md)**
- Windows ç¯å¢ƒä¸‹ Flutter SDK å®‰è£…
- Android Studio é…ç½®
- è™šæ‹Ÿè®¾å¤‡ï¼ˆAVDï¼‰åˆ›å»º
- å¸¸è§é—®é¢˜æ’æŸ¥

### 2. å¼€å‘è®¡åˆ’
ğŸ“– **[é¡¹ç›®å¼€å‘è®¡åˆ’](./PROJECT_PLAN.md)**
- å·¥ç¨‹ç»“æ„æµè§ˆåŠŸèƒ½éœ€æ±‚
- API å¯¹æ¥æ–¹æ¡ˆ
- æŠ€æœ¯æ¶æ„è®¾è®¡
- å¼€å‘ä»»åŠ¡æ¸…å•
- éªŒæ”¶æ ‡å‡†

### 3. åç«¯ API æ–‡æ¡£
ğŸ“– **[å·¥ç¨‹ç»“æ„ API è®¾è®¡](../docs/02-æŠ€æœ¯æ–‡æ¡£/å·¥ç¨‹ç»“æ„APIè®¾è®¡.md)**
- å®Œæ•´çš„ API æ¥å£æ–‡æ¡£
- æ•°æ®æ¨¡å‹å®šä¹‰
- è¯·æ±‚/å“åº”ç¤ºä¾‹

---

## âœ… ç§»åŠ¨ç«¯ä¸ PC ç«¯å®Œå…¨æ‰“é€š

### æ•°æ®æµéªŒè¯ âœ…

```
PCç«¯åˆ›å»ºå·¥ç¨‹ç»“æ„ â†’ ç§»åŠ¨ç«¯æµè§ˆ â†’ ç§»åŠ¨ç«¯æ‹ç…§ä¸Šä¼  â†’ PCç«¯æŸ¥çœ‹
```

### æ ¸å¿ƒæµç¨‹

**æ­¥éª¤ 1ï¼šPC ç«¯åˆ›å»ºå·¥ç¨‹ç»“æ„**
```
é¡¹ç›® â†’ æ¥¼æ ‹ â†’ åŒºåŸŸ â†’ ç³»ç»Ÿ â†’ è®¾å¤‡
```

**æ­¥éª¤ 2ï¼šç§»åŠ¨ç«¯æµè§ˆ**
```
GET /api/v1/projects/{id}/structure_tree
```

**æ­¥éª¤ 3ï¼šç§»åŠ¨ç«¯æ‹ç…§ä¸Šä¼ **
```
POST /api/v1/assets/upload_image_with_note
å‚æ•°ï¼šdevice_id=xxxï¼ˆå…³è”åˆ°è®¾å¤‡ï¼‰
```

**æ­¥éª¤ 4ï¼šPC ç«¯æŸ¥çœ‹**
```
GET /api/v1/assets/?device_id=xxx
è‡ªåŠ¨æ˜¾ç¤ºç§»åŠ¨ç«¯ä¸Šä¼ çš„ç…§ç‰‡
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… Flutter

```powershell
# ä¸‹è½½ Flutter SDK
https://docs.flutter.dev/get-started/install/windows

# è§£å‹åˆ° C:\dev\flutter

# æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ PATH: C:\dev\flutter\bin

# éªŒè¯å®‰è£…
flutter --version
```

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒï¼š[Flutter å®‰è£…æŒ‡å—](./FLUTTER_SETUP.md)

---

### 2. åˆ›å»ºé¡¹ç›®ï¼ˆFlutter å®‰è£…å®Œæˆåï¼‰

```bash
# 1. åˆ›å»º Flutter é¡¹ç›®
flutter create bdc_ai_mobile
cd bdc_ai_mobile

# 2. ç¼–è¾‘ pubspec.yaml æ·»åŠ ä¾èµ–
# å‚è€ƒ PROJECT_PLAN.md ä¸­çš„ä¾èµ–åˆ—è¡¨

# 3. å®‰è£…ä¾èµ–
flutter pub get

# 4. è¿è¡Œé¡¹ç›®
flutter run
```

---

### 3. åç«¯ API åœ°å€

**å¼€å‘ç¯å¢ƒ**ï¼š
```yaml
BASE_URL: http://localhost:8000
```

**é…ç½®æ–‡ä»¶**ï¼š`lib/config/api_config.dart`

---

## ğŸ“‹ å¼€å‘ä»»åŠ¡æ¸…å•

### é˜¶æ®µ 1ï¼šåŸºç¡€æ¡†æ¶ï¼ˆ0.5å¤©ï¼‰
- [ ] åˆ›å»º Flutter é¡¹ç›®
- [ ] é…ç½®ä¾èµ–åŒ…
- [ ] è®¾ç½®è·¯ç”±

### é˜¶æ®µ 2ï¼šæ•°æ®æ¨¡å‹ï¼ˆ0.5å¤©ï¼‰
- [ ] Project æ¨¡å‹
- [ ] Structure æ¨¡å‹
- [ ] Asset æ¨¡å‹

### é˜¶æ®µ 3ï¼šAPI æœåŠ¡ï¼ˆ1å¤©ï¼‰
- [ ] ApiServiceï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- [ ] StructureServiceï¼ˆå·¥ç¨‹ç»“æ„ï¼‰
- [ ] AssetServiceï¼ˆèµ„äº§åˆ—è¡¨ï¼‰

### é˜¶æ®µ 4ï¼šUI å¼€å‘ï¼ˆ2å¤©ï¼‰
- [ ] é¡¹ç›®åˆ—è¡¨é¡µ
- [ ] å·¥ç¨‹ç»“æ„æ ‘é¡µ
- [ ] è®¾å¤‡èµ„äº§åˆ—è¡¨é¡µ

### é˜¶æ®µ 5ï¼šä¼˜åŒ–æµ‹è¯•ï¼ˆ0.5å¤©ï¼‰
- [ ] åŠ è½½çŠ¶æ€
- [ ] é”™è¯¯å¤„ç†
- [ ] ä¸‹æ‹‰åˆ·æ–°

---

## ğŸ”Œ API ç«¯ç‚¹

### å·¥ç¨‹ç»“æ„ç›¸å…³

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/v1/projects` | GET | è·å–é¡¹ç›®åˆ—è¡¨ |
| `/api/v1/projects/{id}/structure_tree` | GET | è·å–å·¥ç¨‹ç»“æ„æ ‘ |
| `/api/v1/systems/{id}/devices` | GET | è·å–ç³»ç»Ÿä¸‹è®¾å¤‡ |

### èµ„äº§ç›¸å…³

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/v1/assets/?device_id={id}` | GET | è·å–è®¾å¤‡èµ„äº§åˆ—è¡¨ |
| `/api/v1/assets/{id}` | GET | è·å–èµ„äº§è¯¦æƒ… |
| `/api/v1/assets/upload_image_with_note` | POST | ä¸Šä¼ å›¾ç‰‡+å¤‡æ³¨ |

---

## ğŸ“¦ æ ¸å¿ƒä¾èµ–

```yaml
dependencies:
  flutter:
    sdk: flutter

  # HTTP è¯·æ±‚
  http: ^1.2.0

  # çŠ¶æ€ç®¡ç†
  provider: ^6.1.1

  # è·¯ç”±
  go_router: ^14.0.0

  # JSON åºåˆ—åŒ–
  json_annotation: ^4.9.0
  freezed_annotation: ^2.4.1

dev_dependencies:
  flutter_test:
    sdk: flutter

  # ä»£ç ç”Ÿæˆ
  build_runner: ^2.4.0
  json_serializable: ^6.8.0
  freezed: ^2.5.2
```

---

## ğŸ—ï¸ ç›®å½•ç»“æ„

```
bdc_ai_mobile/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                    # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ api_config.dart          # API é…ç½®
â”‚   â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ project.dart
â”‚   â”‚   â”œâ”€â”€ structure.dart
â”‚   â”‚   â””â”€â”€ asset.dart
â”‚   â”œâ”€â”€ services/                    # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api_service.dart
â”‚   â”‚   â””â”€â”€ structure_service.dart
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ pages/
â”‚           â”œâ”€â”€ project_list_page.dart
â”‚           â”œâ”€â”€ structure_tree_page.dart
â”‚           â””â”€â”€ device_assets_page.dart
â””â”€â”€ pubspec.yaml
```

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] å¯ä»¥æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨
- [ ] å¯ä»¥æŸ¥çœ‹å·¥ç¨‹ç»“æ„æ ‘
- [ ] å¯ä»¥å±•å¼€/æŠ˜å æ ‘èŠ‚ç‚¹
- [ ] å¯ä»¥ç‚¹å‡»è®¾å¤‡æŸ¥çœ‹èµ„äº§åˆ—è¡¨
- [ ] å¯ä»¥æ˜¾ç¤ºèµ„äº§ç¼©ç•¥å›¾
- [ ] å¯ä»¥ç‚¹å‡»èµ„äº§æŸ¥çœ‹å¤§å›¾

### æ€§èƒ½è¦æ±‚
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- [ ] å›¾ç‰‡åŠ è½½ä¼˜åŒ–ï¼ˆç¼©ç•¥å›¾ï¼‰
- [ ] ç¦»çº¿ç¼“å­˜å·¥ç¨‹ç»“æ„

### ç”¨æˆ·ä½“éªŒ
- [ ] åŠ è½½çŠ¶æ€æç¤º
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] ä¸‹æ‹‰åˆ·æ–°
- [ ] æµç•…çš„åŠ¨ç”»æ•ˆæœ

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: Flutter å®‰è£…åå‘½ä»¤æ— æ³•è¯†åˆ«ï¼Ÿ
**A**: ç¡®è®¤ Flutter SDK çš„ bin ç›®å½•å·²æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ï¼Œå¹¶é‡å¯å‘½ä»¤è¡Œçª—å£ã€‚

### Q: æ— æ³•è¿æ¥åˆ°åç«¯ APIï¼Ÿ
**A**:
1. ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨ï¼š`python -m uvicorn services.backend.app.main:app --reload`
2. æ£€æŸ¥ API é…ç½®ï¼š`lib/config/api_config.dart`
3. ç¡®è®¤è®¾å¤‡/æ¨¡æ‹Ÿå™¨å¯ä»¥è®¿é—® `localhost:8000`

### Q: Gradle æ„å»ºç¼“æ…¢ï¼Ÿ
**A**: é…ç½®å›½å†…é•œåƒæºï¼ˆå‚è€ƒ FLUTTER_SETUP.mdï¼‰

---

## ğŸ“ è”ç³»æ–¹å¼

- **æ–‡æ¡£é—®é¢˜**ï¼šæäº¤ Issue åˆ°é¡¹ç›®ä»“åº“
- **æŠ€æœ¯æ”¯æŒ**ï¼šè”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**é¡¹ç›®ç»´æŠ¤**ï¼šBDC-AI å¼€å‘å›¢é˜Ÿ
**æœ€åæ›´æ–°**ï¼š2026-01-23
**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0.0
